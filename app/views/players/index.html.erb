<p id="notice" class="text-center"><%= notice %></p>

<div class="container">
    <div class="d-inline-block">
        <h1>Players</h1>
    </div>
    <br/>

    <div class="d-inline-block float-right" style="margin-top: 10px;">
        <%= link_to 'Add Player', new_player_path, :class => "btn btn-primary btn-sm" %>
    </div>

    <div class="d-inline-block float-left" style="margin-top: 10px;">
        <!-- players search -->
        <%= form_tag(players_path, :method => "get", id: "search-form") do %>
          <%= text_field_tag :search, params[:search], placeholder: "Search for players" %>
          <%= submit_tag "Search", :name => nil, :class => "btn btn-primary btn-sm" %>
        <% end %>

        <% if @players.blank? %>
          <h6>There are no players which name contains '<%= params[:search] %>'.</h6>
        <% end %>
        <!-- end of players search -->
    </div>

    <table class="table table-stripped table-hover index indexborders">
      <thead>
        <tr>
          <th class="indexborders"><%= sort_link "name" %></th>
          <th class="indexborders"><%= sort_link "surname" %></th>
          <th class="indexborders"><%= sort_link "nickname" %></th>
          <th class="indexborders"><%= sort_link "date_of_birth" %></th>
          <th class="indexborders">Team</th>
          <th  class="indexborders" colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @players.each do |player| %>
          <tr>
            <td class="textfield indexborders"><%= player.name %></td>
            <td class="textfield indexborders"><%= player.surname %></td>
            <td class="textfield indexborders"><%= player.nickname %></td>
            <td class="nontextfield indexborders"><%= player.date_of_birth.strftime("%d.%m.%Y") %></td>
            <td class="textfield indexborders">
                <% if player.team.present? %>
                  <%= link_to player.team.name, player.team%>
                <% end %>
            </td>
            <td align=center class="indexborders">
                <%= link_to 'Show', player , :class => "btn btn-warning btn-sm" %>
                <%= link_to 'Edit', edit_player_path(player), :class => "btn btn-success btn-sm" %>
                <%= link_to 'Delete', player, method: :delete, data: { confirm: 'Are you sure you want to delete this player?' }, :class => "btn btn-danger btn-sm" %>
            </td>

          </tr>
        <% end %>
      </tbody>
    </table>

</div>
